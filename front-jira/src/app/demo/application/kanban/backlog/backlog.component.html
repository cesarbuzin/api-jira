<div class="table-responsive">
  <table class="table tbl-backlog">
    <thead>
      <tr>
        <th class="add">
          <button class="btn btn-secondary btn-sm" (click)="collapseData(content)"> <i class="ti ti-plus"></i>Add </button>
          <ng-template #content let-offcanvas>
            <div class="offcanvas-header">
              <h5 class="offcanvas-title" id="offcanvasExampleLabel"> Main </h5>
              <button type="button" class="btn-close text-reset" aria-label="Close" (click)="offcanvas.close('Close click')"></button>
            </div>
            <div class="offcanvas-body">
              <div class="form-group">
                <label class="form-label">Title</label>
                <input type="text" class="form-control" placeholder="Enter Title" [(ngModel)]="todoListMessage" />
              </div>
              <div class="form-group row">
                <label class="col-form-label col-sm-4 text-sm-end">Assign to:</label>
                <div class="col-sm-8">
                  <select class="form-select" [(ngModel)]="assignListMessage">
                    <option>Barney Thea</option>
                    <option>Maddison Wilber</option>
                    <option>John Doe</option>
                  </select>
                </div>
              </div>
              <div class="form-group row">
                <label class="col-form-label col-sm-4 text-sm-end">Priority: </label>
                <div class="col-sm-8">
                  <select class="form-select" [(ngModel)]="priorityListMessage">
                    <option>Low</option>
                    <option>Medium</option>
                    <option>High</option>
                  </select>
                </div>
              </div>
              <div class="form-group row">
                <label class="col-form-label col-sm-4 text-sm-end">Due date:</label>
                <div class="col-sm-8">
                  <input class="form-control" type="date" [(ngModel)]="dateListMessage" />
                </div>
              </div>
              <div class="form-group row">
                <label class="col-form-label col-sm-4 text-sm-end">State:</label>
                <div class="col-sm-8">
                  <select class="form-select" [(ngModel)]="statusListMessage">
                    <option>New</option>
                    <option>Active</option>
                    <option>Resolved</option>
                    <option>Closed</option>
                  </select>
                </div>
              </div>
              <div class="d-grid">
                <button class="btn btn-primary" (click)="addTodoList()"> Save </button>
              </div>
            </div>
          </ng-template>
        </th>
        <th class="id">Id</th>
        <th class="w-100 title">Title</th>
        <th class="drop"></th>
        <th class="status">State</th>
        <th class="assign">Assigned To</th>
        <th class="priority">Priority</th>
        <th class="date">Due Date</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let list of todoList">
        <td class="add">
          <a class="avtar avtar-xs btn-light-primary me-2" href="javascript:" (click)="collapseData1(content1)">
            <i class="ti ti-circle-plus f-18"></i>
          </a>
          <ng-template #content1 let-offcanvas>
            <div class="offcanvas-header">
              <h5 class="offcanvas-title" id="offcanvasExampleLabel"> Sub </h5>
              <button type="button" class="btn-close text-reset" aria-label="Close" (click)="offcanvas.close('Close click')"></button>
            </div>
            <div class="offcanvas-body">
              <div class="form-group">
                <label class="form-label">Title</label>
                <input type="text" class="form-control" placeholder="Enter Title" [(ngModel)]="todoCollapseMessage" />
              </div>
              <div class="form-group row">
                <label class="col-form-label col-sm-4 text-sm-end">Assign to:</label>
                <div class="col-sm-8">
                  <select class="form-select" [(ngModel)]="assignCollapseMessage">
                    <option>Barney Thea</option>
                    <option>Maddison Wilber</option>
                    <option>John Doe</option>
                  </select>
                </div>
              </div>
              <div class="form-group row">
                <label class="col-form-label col-sm-4 text-sm-end">Priority: </label>
                <div class="col-sm-8">
                  <select class="form-select" [(ngModel)]="priorityCollapseMessage">
                    <option>Low</option>
                    <option>Medium</option>
                    <option>High</option>
                  </select>
                </div>
              </div>
              <div class="form-group row">
                <label class="col-form-label col-sm-4 text-sm-end">Due date:</label>
                <div class="col-sm-8">
                  <input class="form-control" type="date" [(ngModel)]="dateCollapseMessage" />
                </div>
              </div>
              <div class="form-group row">
                <label class="col-form-label col-sm-4 text-sm-end">State:</label>
                <div class="col-sm-8">
                  <select class="form-select" [(ngModel)]="statusCollapseMessage">
                    <option>New</option>
                    <option>Active</option>
                    <option>Resolved</option>
                    <option>Closed</option>
                  </select>
                </div>
              </div>
              <div class="d-grid">
                <button class="btn btn-primary" (click)="addCollapseList()"> Add Item </button>
              </div>
            </div>
          </ng-template>
          <a
            class="btn-collpsed avtar avtar-xs btn-link-secondary collapsed"
            (click)="list.isCollapsed = !list.isCollapsed"
            [attr.aria-expanded]="!list.isCollapsed"
            aria-controls="collapseExample"
          >
            <i class="ti ti-chevron-right f-18"></i>
          </a>
        </td>
        <td class="id"> <i class="material-icons-two-tone text-secondary f-18 me-1">menu_book</i>6918 </td>
        <td class="w-100 title">{{ list.msg }}</td>
        <td class="drop">
          <div class="dropdown" ngbDropdown>
            <a class="avtar avtar-xs btn-link-secondary dropdown-toggle arrow-none" type="button" ngbDropdownToggle>
              <i class="ti ti-dots-vertical f-18"></i>
            </a>
            <div class="dropdown-menu dropdown-menu-end" ngbDropdownMenu>
              <a class="dropdown-item" href="javascript:">Edit</a>
              <a class="dropdown-item" href="javascript:">Delete</a>
            </div>
          </div>
        </td>
        <td class="status">{{ list.status }}</td>
        <td class="assign">{{ list.assign }}</td>
        <td class="priority">{{ list.priority }}</td>
        <td class="date">{{ list.date }}</td>
        <td
          [(ngbCollapse)]="list.isCollapsed"
          class="collapse"
          [ngClass]="!list.isCollapsed ? 'setDisplay' : ''"
          id="collapseExample"
          class="p-0"
        >
          <table class="w-100">
            <tr *ngFor="let list of collapseList">
              <td class="add"></td>
              <td class="id"> <i class="material-icons-two-tone text-primary f-18 me-1">assignment</i>6918 </td>
              <td class="w-100 title">{{ list.msg1 }}</td>
              <td class="drop">
                <div class="dropdown drp-suboption" ngbDropdown>
                  <a
                    class="avtar avtar-xs btn-link-secondary dropdown-toggle arrow-none"
                    type="button"
                    aria-haspopup="true"
                    aria-expanded="false"
                    ngbDropdownToggle
                  >
                    <i class="ti ti-dots-vertical f-18"></i>
                  </a>
                  <div class="dropdown-menu dropdown-menu-end" ngbDropdownMenu>
                    <a class="dropdown-item" href="javascript:">Edit</a>
                    <a class="dropdown-item" href="javascript:">Delete</a>
                  </div>
                </div>
              </td>
              <td class="status">{{ list.status1 }}</td>
              <td class="assign">{{ list.assign1 }}</td>
              <td class="priority">{{ list.priority1 }}</td>
              <td class="date">{{ list.date1 }}</td>
            </tr>
          </table>
        </td>
      </tr>
    </tbody>
  </table>
</div>
